# ---- Lovable Cloud endpoints ----
# Return one queued job and mark it running (your Edge Function)
LOVABLE_NEXT_JOB_URL=https://waaaowaetxrxpdfrmwvm.supabase.co/functions/v1/start-optimization
# Worker status/progress callback (your Edge Function)
LOVABLE_CALLBACK_URL=https://waaaowaetxrxpdfrmwvm.supabase.co/functions/v1/eda-worker-callback

# ---- Orchestrator ----
ORCH_BASE_URL=http://orchestrator:8000

# ---- Worker behavior ----
POLL_INTERVAL_SEC=3
MAX_ITERS=10
MAX_PARALLEL=2

# ---- Design defaults (used when job doesn't provide)
DEFAULT_CLOCK_PORT=clk
DEFAULT_FREQ_MHZ=500

# ---- Paths (inside the worker container) ----
DATA_ROOT=/data/jobs
# Optional: Set a Liberty file to enable OpenSTA; leave unset to skip STA in smoke tests
# LIB_PATH=/app/tools/sky130.lib

# Optional: Hugging Face token if orchestrator proxies public API (not used directly here)
HF_TOKEN=

# ---- Smoke test (no Supabase required) ----
# Enable a one-off local run. The worker will not poll LOVABLE_NEXT_JOB_URL when SMOKE_MODE=1.
# Set these values to quickly validate patch application and tool chain in docker compose.
SMOKE_MODE=0
# Top module name for smoke job
SMOKE_TOP=top
# Frequency (MHz) for smoke job (used for abc delay and fmax fallback if LIB_PATH is unset)
SMOKE_FREQ_MHZ=500
# Single-line Verilog for smoke job (avoid quotes/newlines). Example below adds a simple port.
SMOKE_VERILOG=module top(input clk); endmodule
# If set, the temporary workspace will be copied here after run for inspection
SMOKE_SAVE_DIR=/data/jobs/snapshots
